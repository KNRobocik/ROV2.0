'''
Bardzo podstawowa wersja projektu
Grzegorz Szwed
'''

import cv2
import numpy as np
import math

# built-in module
import sys
import cv2


if __name__ == '__main__': #to wzialem z jakis sampli i nie wiem o chodzi
    print(__doc__)

    try:
        fn = sys.argv[1]
    except:
        fn = 0

    def nothing(*arg):
        pass
    
    cv2.namedWindow("normal video")#nazywam nowopowstale okno
        
    sensor = 0 # to bedzie pokazywalo zmiany czujnikow
    xc = 240
    yc = 40
    rc = 20 #promien
    
    xr=xc #wsp polozenia x konca linii
    yr=yc-rc #wsp polozenia y konca linii
    
    cv2.createTrackbar('down', 'normal video', sensor, 360, nothing)
    
    while True:
        picture = cv2.imread("data/fishtank.jpeg") #tutaj nie robilem video, tylko dodalem na razie do zdjecia "wykresik"
        sensor = cv2.getTrackbarPos('down', 'normal video')
        angle = math.radians(sensor)
        cv2.circle(picture, (xc,yc),rc , (0,255,0), 3) #wklepuje na sztywno wszystko
        x2 = int(((xr - xc) * math.cos(angle)) - ((yr - yc) * math.sin(angle)) + xc)
        y2 = int(((xr - xc) * math.sin(angle)) + ((yr - yc) * math.cos(angle)) + yc)
        cv2.line(picture, (xc,yc),  (x2,y2),(0,255,0), 3)
        cv2.imshow('normal video', picture)
        
        ch = cv2.waitKey(5) & 0xFF
        if ch == 27:
            break

    cv2.destroyAllWindows()
